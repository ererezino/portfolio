<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Travels - Zino Asamaige</title>

  <!-- Prevent FOUC -->
  <script>
    (function() {
      try {
        var saved = localStorage.getItem('theme');
        var prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        var isDark = saved ? saved === 'dark' : prefersDark;
        document.documentElement.setAttribute('data-theme', isDark ? 'dark' : 'light');
      } catch(e) {}
    })();
  </script>

  <!-- Meta & SEO -->
  <meta name="description" content="Places I've visited around the world. By Zino Asamaige.">
  <link rel="canonical" href="https://www.ererezino.com/travels.html" />

  <!-- Open Graph -->
  <meta property="og:title" content="Travels - Zino Asamaige" />
  <meta property="og:description" content="Places I've visited around the world." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.ererezino.com/travels.html" />
  <meta property="og:image" content="https://www.ererezino.com/assets/og-image.jpg" />
  <meta property="og:site_name" content="Zino Asamaige" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@ererezino" />
  <meta name="twitter:title" content="Travels - Zino Asamaige" />
  <meta name="twitter:description" content="Places I've visited around the world." />
  <meta name="twitter:image" content="https://www.ererezino.com/assets/og-image.jpg" />

  <meta name="author" content="Zino Asamaige" />

  <!-- Theme -->
  <meta name="theme-color" content="#FAFAFA" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#0A0A0A" media="(prefers-color-scheme: dark)">

  <link rel="icon" type="image/png" href="/assets/logo.png">
  <link rel="apple-touch-icon" href="/assets/logo.png">

  <!-- Self-hosted fonts -->
  <link rel="preload" href="/assets/fonts/inter-v20-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/assets/fonts/inter-v20-latin-600.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/assets/fonts/space-mono-v17-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/assets/fonts/instrument-serif-v5-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="stylesheet" href="/assets/fonts.css?v=20260125f">

  <!-- Self-hosted Leaflet CSS -->
  <link rel="stylesheet" href="/assets/leaflet/leaflet.css">

  <!-- Shared styles -->
  <link rel="stylesheet" href="/styles.css?v=20260125f">

  <!-- Page-specific styles -->
  <style>
    main { padding-top: 80px; }

    .page-header {
      padding: 48px 0 0;
    }

    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-family: var(--font-mono);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--text-tertiary);
      margin-bottom: 32px;
      transition: color var(--duration);
    }
    .back-link:hover { color: var(--text); }
    .back-link svg { width: 14px; height: 14px; }

    .page-title {
      font-family: var(--font-serif);
      font-size: clamp(48px, 8vw, 72px);
      font-weight: 400;
      font-style: italic;
      letter-spacing: -0.02em;
      line-height: 1;
      margin-bottom: 20px;
    }

    .page-lead {
      font-family: var(--font-sans);
      font-size: 17px;
      color: var(--text-secondary);
      max-width: 560px;
      line-height: 1.7;
    }

    /* Stats Hero - Visual Cards */
    .stats-hero {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-top: 48px;
    }
    @media (max-width: 768px) {
      .stats-hero { grid-template-columns: 1fr; gap: 16px; }
    }

    .stat-card {
      position: relative;
      padding: 32px;
      border-radius: 16px;
      overflow: hidden;
      transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1),
                  box-shadow 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }
    .stat-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.1);
    }
    [data-theme="dark"] .stat-card:hover {
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
    }

    .stat-card.countries {
      background: linear-gradient(135deg, var(--accent-subtle) 0%, var(--bg-subtle) 100%);
      border: 1px solid var(--accent);
    }
    .stat-card.cities {
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, var(--bg-subtle) 100%);
      border: 1px solid #3B82F6;
    }
    .stat-card.continents {
      background: linear-gradient(135deg, var(--green-subtle) 0%, var(--bg-subtle) 100%);
      border: 1px solid var(--green);
    }

    .stat-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
    }
    .stat-icon svg {
      width: 24px;
      height: 24px;
    }
    .stat-card.countries .stat-icon {
      background: var(--accent);
      color: #fff;
    }
    .stat-card.cities .stat-icon {
      background: #3B82F6;
      color: #fff;
    }
    .stat-card.continents .stat-icon {
      background: var(--green);
      color: #fff;
    }

    .stat-value {
      font-family: var(--font-sans);
      font-size: clamp(48px, 8vw, 64px);
      font-weight: 700;
      letter-spacing: -0.03em;
      line-height: 1;
      margin-bottom: 8px;
    }
    .stat-card.countries .stat-value { color: var(--accent); }
    .stat-card.cities .stat-value { color: #3B82F6; }
    .stat-card.continents .stat-value { color: var(--green); }

    .stat-label {
      font-family: var(--font-mono);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--text-tertiary);
    }

    /* Map */
    .map-section {
      padding: 64px 0;
    }

    .map-container {
      width: 100%;
      min-height: 600px;
      height: 600px;
      border-radius: 16px;
      overflow: hidden;
      border: 1px solid var(--border);
      background: var(--bg-subtle);
      position: relative;
      display: block;
    }
    @media (max-width: 768px) {
      .map-container { height: 400px; border-radius: 12px; }
    }

    /* Custom Leaflet styles */
    #map {
      width: 100%;
      height: 600px;
      min-height: 600px;
      z-index: 1;
    }
    @media (max-width: 768px) {
      #map { height: 400px; min-height: 400px; }
    }
    .leaflet-container {
      font-family: var(--font-sans);
      border-radius: 16px;
    }
    @media (max-width: 768px) {
      .leaflet-container { border-radius: 12px; }
    }

    .leaflet-marker-icon.custom-marker {
      width: 12px !important;
      height: 12px !important;
      border-radius: 50%;
      background: var(--accent);
      border: 2px solid var(--bg);
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .leaflet-marker-icon.custom-marker:hover {
      transform: scale(1.5);
      box-shadow: 0 4px 16px rgba(0,0,0,0.4);
    }
    .leaflet-marker-icon.custom-marker.home {
      background: var(--green);
      width: 16px !important;
      height: 16px !important;
      animation: homePulse 2s ease-in-out infinite;
    }
    @keyframes homePulse {
      0%, 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4); }
      50% { box-shadow: 0 0 0 8px rgba(16, 185, 129, 0); }
    }

    .leaflet-popup-content-wrapper {
      background: var(--bg);
      color: var(--text);
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.15);
      border: 1px solid var(--border);
    }

    .leaflet-popup-content {
      margin: 16px 20px;
      font-family: var(--font-sans);
    }

    .leaflet-popup-tip {
      background: var(--bg);
      border: 1px solid var(--border);
    }

    .popup-city {
      font-family: var(--font-sans);
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .popup-country {
      font-family: var(--font-mono);
      font-size: 11px;
      color: var(--text-tertiary);
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .popup-home-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      margin-top: 8px;
      font-family: var(--font-mono);
      font-size: 9px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--green);
      background: var(--green-subtle);
      padding: 4px 8px;
      border-radius: 4px;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 32px;
    }

    .section-title {
      font-family: var(--font-mono);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: var(--text-tertiary);
    }

    /* Cities Section */
    .cities-section {
      padding: 64px 0;
      border-top: 1px solid var(--border);
    }

    .continent-tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 40px;
      flex-wrap: wrap;
    }

    .continent-tab {
      font-family: var(--font-mono);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      padding: 10px 20px;
      border: 1px solid var(--border);
      background: transparent;
      color: var(--text-secondary);
      cursor: pointer;
      border-radius: 8px;
      transition: all 0.2s ease;
    }
    .continent-tab:hover {
      border-color: var(--text-secondary);
      color: var(--text);
    }
    .continent-tab.active {
      background: var(--text);
      color: var(--bg);
      border-color: var(--text);
    }

    .continent-tab-count {
      font-size: 10px;
      opacity: 0.6;
      margin-left: 6px;
    }

    .cities-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
    }
    @media (max-width: 900px) {
      .cities-grid { grid-template-columns: repeat(3, 1fr); }
    }
    @media (max-width: 600px) {
      .cities-grid { grid-template-columns: repeat(2, 1fr); }
    }

    .city-item {
      padding: 16px;
      border: 1px solid var(--border);
      border-radius: 8px;
      transition: all 0.2s ease;
    }
    .city-item:hover {
      border-color: var(--accent);
      background: var(--accent-subtle);
    }
    .city-item.home {
      border-color: var(--green);
      background: var(--green-subtle);
    }

    .city-name {
      font-family: var(--font-sans);
      font-size: 14px;
      font-weight: 500;
      margin-bottom: 4px;
    }

    .city-country {
      font-family: var(--font-mono);
      font-size: 10px;
      color: var(--text-tertiary);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .city-home-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      margin-top: 8px;
      font-family: var(--font-mono);
      font-size: 8px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--green);
    }

    @media (prefers-reduced-motion: reduce) {
      * { animation: none !important; transition: none !important; }
    }

    /* Map text summary */
    .map-text-summary {
      margin-top: 24px;
      padding: 20px 24px;
      background: var(--bg-subtle);
      border: 1px solid var(--border);
      border-radius: 12px;
      font-family: var(--font-sans);
      font-size: 14px;
      line-height: 1.7;
      color: var(--text-secondary);
    }
    .map-text-summary strong {
      color: var(--text);
      font-weight: 600;
    }
    .map-text-summary .highlight {
      color: var(--accent);
      font-weight: 600;
    }
  </style>
</head>

<body>
  <a href="#main" class="skip-link">Skip to content</a>

  <header id="header" role="banner">
    <div class="header-inner">
      <a href="/" class="logo" aria-label="Zino Asamaige - Home">
        <img src="/assets/logo.png" alt="" class="logo-img" width="36" height="36">
        <span class="logo-text">Zino Asamaige</span>
      </a>

      <nav class="header-nav" aria-label="Primary navigation">
        <a href="/about.html" class="nav-link">About</a>
        <a href="/photos/" class="nav-link">Photos</a>
        <a href="/articles/" class="nav-link">Articles</a>
        <a href="/movement.html" class="nav-link">Movement</a>
        <a href="/travels.html" class="nav-link" aria-current="page">Travels</a>
        <a href="/contact.html" class="nav-link">Contact</a>

        <button class="theme-btn" id="themeToggle" aria-label="Toggle dark mode" type="button">
          <svg class="moon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
          <svg class="sun" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
        </button>
      </nav>

      <div class="mobile-controls">
        <button class="theme-btn" id="mobileThemeToggle" aria-label="Toggle dark mode" type="button">
          <svg class="moon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
          <svg class="sun" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
        </button>

        <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Open navigation menu" aria-expanded="false" aria-controls="mobileMenu" type="button">
          <span></span><span></span><span></span>
        </button>
      </div>
    </div>
  </header>

  <div class="mobile-menu" id="mobileMenu" aria-hidden="true" role="dialog" aria-modal="true" aria-label="Navigation menu">
    <div class="mobile-menu-header">
      <a href="/" class="logo">
        <img src="/assets/logo.png" alt="" class="logo-img" width="32" height="32">
        Zino
      </a>
      <div class="mobile-menu-actions">
        <button class="mobile-menu-close" id="mobileMenuClose" aria-label="Close navigation menu" type="button">&times;</button>
      </div>
    </div>
    <nav aria-label="Mobile navigation">
      <a href="/about.html">About</a>
      <a href="/photos/">Photos</a>
      <a href="/articles/">Articles</a>
      <a href="/movement.html">Movement</a>
      <a href="/travels.html">Travels</a>
      <a href="/contact.html">Contact</a>
    </nav>
  </div>

  <main id="main" role="main">
    <div class="container">
      <div class="page-header">
        <a href="/" class="back-link">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
          Back to home
        </a>
        <h1 class="page-title">Travels</h1>
        <p class="page-lead">
          Places I've visited around the world. Each pin represents a city that has taught me something new about culture, people, and myself.
        </p>
      </div>

      <!-- Visual Stat Cards -->
      <div class="stats-hero">
        <div class="stat-card countries">
          <div class="stat-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6l9 4 9-4M3 6v12l9 4 9-4V6M3 6l9 4M21 6l-9 4M12 10v12"/></svg>
          </div>
          <div class="stat-value" id="countryCount">0</div>
          <div class="stat-label">Countries</div>
        </div>
        <div class="stat-card cities">
          <div class="stat-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
          </div>
          <div class="stat-value" id="cityCount">0</div>
          <div class="stat-label">Cities</div>
        </div>
        <div class="stat-card continents">
          <div class="stat-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
          </div>
          <div class="stat-value" id="continentCount">0</div>
          <div class="stat-label">Continents</div>
        </div>
      </div>
    </div>

    <div class="map-section">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">Interactive Map</h2>
        </div>
        <div id="map" class="map-container" role="img" aria-label="Interactive world map showing cities I've visited across Africa, Middle East, Europe, and the Americas. Each location is marked with a pin."></div>
        <!-- Accessible text summary for screen readers -->
        <div class="map-summary visually-hidden" id="mapSummary" aria-live="polite"></div>
        <!-- Visible summary for all users -->
        <div class="map-text-summary" id="mapTextSummary"></div>
      </div>
    </div>

  </main>

  <footer role="contentinfo">
    <div class="container footer-inner">
      <nav class="footer-nav" aria-label="Footer navigation">
        <a href="/about.html">About</a>
        <a href="/photos/">Photos</a>
        <a href="/articles/">Articles</a>
        <a href="/contact.html">Contact</a>
      </nav>
      <div class="footer-social">
        <a href="https://x.com/ererezino" target="_blank" rel="noopener noreferrer" class="footer-social-link" aria-label="Follow on X (Twitter)">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
        </a>
        <a href="https://www.linkedin.com/in/ererezino/" target="_blank" rel="noopener noreferrer" class="footer-social-link" aria-label="Connect on LinkedIn">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
        </a>
      </div>
      <div class="footer-meta">
        <span class="footer-status">
          <span class="location-dot" aria-hidden="true"></span>
          Lagos, Nigeria
        </span>
        <span class="footer-copy">&copy; 2026 Zino Asamaige</span>
      </div>
      <p class="footer-privacy">This site doesn't use cookies or track your data. Contact form messages are sent via email and stored securely.</p>
    </div>
  </footer>

  <!-- Self-hosted Leaflet JS -->
  <script src="/assets/leaflet/leaflet.min.js"></script>

  <script>
    // Theme
    function setTheme(dark) {
      document.documentElement.setAttribute('data-theme', dark ? 'dark' : 'light');
      localStorage.setItem('theme', dark ? 'dark' : 'light');
      if (typeof updateMapTiles === 'function') updateMapTiles();
      // Force repaint on mobile
      document.body.style.transform = 'translateZ(0)';
      
      requestAnimationFrame(function() { document.body.style.transform = ''; });
    }

    function toggleTheme() {
      var isDark = document.documentElement.getAttribute('data-theme') === 'dark';
      setTheme(!isDark);
    }

    document.getElementById('themeToggle').onclick = toggleTheme;
    document.getElementById('mobileThemeToggle').onclick = toggleTheme;

    // Mobile menu
    var mm = document.getElementById('mobileMenu');
    var mmBtn = document.getElementById('mobileMenuBtn');
    var mmClose = document.getElementById('mobileMenuClose');

    function openMobileMenu() {
      if (!mm) return;
      mm.classList.add('open');
      mm.setAttribute('aria-hidden', 'false');
      if (mmBtn) mmBtn.setAttribute('aria-expanded', 'true');
      document.body.style.overflow = 'hidden';
    }

    function closeMobileMenu() {
      if (!mm) return;
      mm.classList.remove('open');
      mm.setAttribute('aria-hidden', 'true');
      if (mmBtn) mmBtn.setAttribute('aria-expanded', 'false');
      document.body.style.overflow = '';
    }

    if (mmBtn) mmBtn.onclick = openMobileMenu;
    if (mmClose) mmClose.onclick = closeMobileMenu;
    if (mm) {
      var links = mm.querySelectorAll('a');
      for (var i = 0; i < links.length; i++) {
        links[i].onclick = closeMobileMenu;
      }
    }

    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && mm && mm.classList.contains('open')) {
        closeMobileMenu();
      }
    });

    // Header scroll
    window.addEventListener('scroll', function() {
      document.getElementById('header').classList.toggle('scrolled', window.scrollY > 50);
    });

    // Country flags (emoji)
    var FLAGS = {
      'Nigeria': 'ðŸ‡³ðŸ‡¬', 'Ghana': 'ðŸ‡¬ðŸ‡­', 'Kenya': 'ðŸ‡°ðŸ‡ª', 'Senegal': 'ðŸ‡¸ðŸ‡³', 'Seychelles': 'ðŸ‡¸ðŸ‡¨',
      'South Africa': 'ðŸ‡¿ðŸ‡¦', 'Ethiopia': 'ðŸ‡ªðŸ‡¹', 'UAE': 'ðŸ‡¦ðŸ‡ª', 'Qatar': 'ðŸ‡¶ðŸ‡¦', 'Italy': 'ðŸ‡®ðŸ‡¹',
      'France': 'ðŸ‡«ðŸ‡·', 'Germany': 'ðŸ‡©ðŸ‡ª', 'Austria': 'ðŸ‡¦ðŸ‡¹', 'Hungary': 'ðŸ‡­ðŸ‡º', 'Spain': 'ðŸ‡ªðŸ‡¸',
      'Portugal': 'ðŸ‡µðŸ‡¹', 'Montenegro': 'ðŸ‡²ðŸ‡ª', 'USA': 'ðŸ‡ºðŸ‡¸'
    };

    // Cities data with coordinates
    var CITIES = [
      // Nigeria (home)
      { city: "Lagos", country: "Nigeria", region: "Africa", lat: 6.5244, lng: 3.3792, isHome: true },
      { city: "Abeokuta", country: "Nigeria", region: "Africa", lat: 7.1607, lng: 3.3483 },
      { city: "Ibadan", country: "Nigeria", region: "Africa", lat: 7.3775, lng: 3.9470 },
      { city: "Benin City", country: "Nigeria", region: "Africa", lat: 6.3350, lng: 5.6270 },
      { city: "Asaba", country: "Nigeria", region: "Africa", lat: 6.1984, lng: 6.7286 },
      { city: "Port Harcourt", country: "Nigeria", region: "Africa", lat: 4.8156, lng: 7.0498 },
      { city: "Kaduna", country: "Nigeria", region: "Africa", lat: 10.5264, lng: 7.4388 },
      { city: "Jos", country: "Nigeria", region: "Africa", lat: 9.8965, lng: 8.8583 },
      { city: "Abuja", country: "Nigeria", region: "Africa", lat: 9.0765, lng: 7.3986 },
      { city: "Yola", country: "Nigeria", region: "Africa", lat: 9.2035, lng: 12.4954 },
      { city: "Owerri", country: "Nigeria", region: "Africa", lat: 5.4836, lng: 7.0333 },
      { city: "Lafia", country: "Nigeria", region: "Africa", lat: 8.4966, lng: 8.5150 },

      // Rest of Africa
      { city: "Accra", country: "Ghana", region: "Africa", lat: 5.6037, lng: -0.1870 },
      { city: "Nairobi", country: "Kenya", region: "Africa", lat: -1.2921, lng: 36.8219 },
      { city: "Dakar", country: "Senegal", region: "Africa", lat: 14.7167, lng: -17.4677 },
      { city: "Victoria", country: "Seychelles", region: "Africa", lat: -4.6191, lng: 55.4513 },
      { city: "Johannesburg", country: "South Africa", region: "Africa", lat: -26.2041, lng: 28.0473 },
      { city: "Addis Ababa", country: "Ethiopia", region: "Africa", lat: 9.0320, lng: 38.7636 },

      // Middle East
      { city: "Dubai", country: "UAE", region: "Middle East", lat: 25.2048, lng: 55.2708 },
      { city: "Doha", country: "Qatar", region: "Middle East", lat: 25.2854, lng: 51.5310 },

      // Europe
      { city: "Bologna", country: "Italy", region: "Europe", lat: 44.4949, lng: 11.3426 },
      { city: "Florence", country: "Italy", region: "Europe", lat: 43.7696, lng: 11.2558 },
      { city: "Rome", country: "Italy", region: "Europe", lat: 41.9028, lng: 12.4964 },
      { city: "Milan", country: "Italy", region: "Europe", lat: 45.4642, lng: 9.1900 },
      { city: "Naples", country: "Italy", region: "Europe", lat: 40.8518, lng: 14.2681 },
      { city: "ChambÃ©ry", country: "France", region: "Europe", lat: 45.5646, lng: 5.9178 },
      { city: "Annecy", country: "France", region: "Europe", lat: 45.8992, lng: 6.1294 },
      { city: "Paris", country: "France", region: "Europe", lat: 48.8566, lng: 2.3522 },
      { city: "Frankfurt", country: "Germany", region: "Europe", lat: 50.1109, lng: 8.6821 },
      { city: "Vienna", country: "Austria", region: "Europe", lat: 48.2082, lng: 16.3738 },
      { city: "Budapest", country: "Hungary", region: "Europe", lat: 47.4979, lng: 19.0402 },
      { city: "Santa Cruz de Tenerife", country: "Spain", region: "Europe", lat: 28.4636, lng: -16.2518 },
      { city: "Madrid", country: "Spain", region: "Europe", lat: 40.4168, lng: -3.7038 },
      { city: "Lisbon", country: "Portugal", region: "Europe", lat: 38.7223, lng: -9.1393 },
      { city: "Tivat", country: "Montenegro", region: "Europe", lat: 42.4347, lng: 18.6958 },
      { city: "Podgorica", country: "Montenegro", region: "Europe", lat: 42.4304, lng: 19.2594 },

      // Americas
      { city: "New York", country: "USA", region: "Americas", lat: 40.7128, lng: -74.0060 },
      { city: "San Francisco", country: "USA", region: "Americas", lat: 37.7749, lng: -122.4194 },
      { city: "Austin", country: "USA", region: "Americas", lat: 30.2672, lng: -97.7431 },
      { city: "Durham", country: "USA", region: "Americas", lat: 35.9940, lng: -78.8986 }
    ];

    // Calculate stats
    var countries = [];
    var regions = [];
    CITIES.forEach(function(c) {
      if (countries.indexOf(c.country) === -1) countries.push(c.country);
      if (regions.indexOf(c.region) === -1) regions.push(c.region);
    });

    // Animate count up
    function animateCount(el, target) {
      var current = 0;
      var increment = target / 30;
      var timer = setInterval(function() {
        current += increment;
        if (current >= target) {
          el.textContent = target;
          clearInterval(timer);
        } else {
          el.textContent = Math.floor(current);
        }
      }, 30);
    }

    animateCount(document.getElementById('countryCount'), countries.length);
    animateCount(document.getElementById('cityCount'), CITIES.length);
    animateCount(document.getElementById('continentCount'), regions.length);

    // Initialize map
    var currentTileLayer;
    var map;

    function initMap() {
      if (typeof L === 'undefined') {
        console.error('Leaflet not loaded');
        var mapContainer = document.getElementById('map');
        if (mapContainer) {
          mapContainer.innerHTML = '<div style="display:flex;align-items:center;justify-content:center;height:100%;color:var(--text-tertiary);font-family:var(--font-mono);font-size:12px;">Map loading failed. Please refresh.</div>';
        }
        return;
      }

      var mapContainer = document.getElementById('map');
      if (!mapContainer || map) return;

      try {
        map = L.map('map', {
          scrollWheelZoom: false,
          zoomControl: true
        }).setView([20, 10], 2);

        updateMapTiles();
        addMarkers();

        setTimeout(function() {
          if (map) map.invalidateSize();
        }, 200);
      } catch (err) {
        console.error('Map initialization error:', err);
      }
    }

    function updateMapTiles() {
      if (!map) return;
      try {
        var dark = document.documentElement.getAttribute('data-theme') === 'dark';
        if (currentTileLayer) map.removeLayer(currentTileLayer);
        var style = dark ? 'dark_all' : 'light_all';
        currentTileLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/' + style + '/{z}/{x}/{y}{r}.png', {
          attribution: '&copy; OpenStreetMap, &copy; CartoDB',
          maxZoom: 19,
          subdomains: 'abcd'
        }).addTo(map);
      } catch (err) {
        console.error('Tile layer error:', err);
      }
    }

    function addMarkers() {
      if (!map) return;
      CITIES.forEach(function(place) {
        var isHome = place.isHome;
        var markerIcon = L.divIcon({
          className: 'custom-marker ' + (isHome ? 'home' : ''),
          iconSize: isHome ? [16, 16] : [12, 12],
          iconAnchor: isHome ? [8, 8] : [6, 6],
          popupAnchor: [0, isHome ? -10 : -8]
        });

        var markerTitle = place.city + ', ' + place.country + (isHome ? ' (Current location)' : '');
        var marker = L.marker([place.lat, place.lng], {
          icon: markerIcon,
          title: markerTitle,
          alt: markerTitle
        }).addTo(map);
        marker.bindPopup(
          '<div class="popup-city">' + place.city + '</div>' +
          '<div class="popup-country">' + (FLAGS[place.country] || '') + ' ' + place.country + '</div>' +
          (isHome ? '<div class="popup-home-badge"><span class="location-dot"></span> Currently here</div>' : '')
        );
      });
    }

    // Initialize map when page loads
    window.addEventListener('load', initMap);

    // Service Worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('/sw.js').catch(function() {});
      });
    }

    // Generate accessible map summary
    function generateMapSummary() {
      var summaryEl = document.getElementById('mapSummary');
      var textSummaryEl = document.getElementById('mapTextSummary');

      // Count cities per region
      var regionCounts = {};
      regions.forEach(function(r) {
        regionCounts[r] = CITIES.filter(function(c) { return c.region === r; }).length;
      });

      // Find home city
      var homeCity = CITIES.find(function(c) { return c.isHome; });

      // Count cities per country for most visited
      var countryCounts = {};
      CITIES.forEach(function(c) {
        countryCounts[c.country] = (countryCounts[c.country] || 0) + 1;
      });
      var sortedCountries = Object.keys(countryCounts).sort(function(a, b) {
        return countryCounts[b] - countryCounts[a];
      });
      var topCountry = sortedCountries[0];

      // Screen reader summary
      if (summaryEl) {
        var summary = 'Travel statistics summary. ';
        summary += 'Total cities visited: ' + CITIES.length + ' across ' + countries.length + ' countries and ' + regions.length + ' continents. ';
        summary += 'Currently based in ' + homeCity.city + ', ' + homeCity.country + '. ';
        summary += 'Regional breakdown: ';
        regions.forEach(function(r) {
          summary += r + ': ' + regionCounts[r] + ' cities. ';
        });
        summary += 'Most visited country: ' + topCountry + ' with ' + countryCounts[topCountry] + ' cities.';
        summaryEl.textContent = summary;
      }

      // Visible text summary
      if (textSummaryEl) {
        var regionList = regions.map(function(r) {
          return '<strong>' + r + '</strong> (' + regionCounts[r] + ')';
        }).join(', ');

        textSummaryEl.innerHTML =
          'I\'ve visited <span class="highlight">' + CITIES.length + ' cities</span> across ' +
          '<strong>' + countries.length + ' countries</strong> and <strong>' + regions.length + ' continents</strong>. ' +
          'Regional breakdown: ' + regionList + '. ' +
          'Currently based in <strong>' + homeCity.city + ', ' + homeCity.country + '</strong>. ' +
          'Most visited: <strong>' + topCountry + '</strong> with ' + countryCounts[topCountry] + ' cities.';
      }
    }

    // Initialize
    generateMapSummary();
  </script>
  <!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "a17b25b9d9f24af88869c5f81d7e12be"}'></script><!-- End Cloudflare Web Analytics -->
</body>
</html>
